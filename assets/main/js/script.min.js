import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function customDropdown(){let e=document.querySelectorAll(".dropdown-custom");function o(r){e.forEach(e=>{var i=e.querySelector(".dropdown-custom-menu"),t=e.querySelector(".dropdown-custom-btn");r&&e===r||(i.classList.remove("dropdown--active"),t.classList.remove("--active"))})}console.log(e),e.forEach(i=>{let t=i.querySelector(".dropdown-custom-btn"),r=i.querySelector(".dropdown-custom-menu");var e=i.querySelectorAll(".dropdown-custom-item");let n=i.querySelector(".value-select");t.addEventListener("click",function(e){e.stopPropagation(),o(i),r.classList.toggle("dropdown--active"),t.classList.toggle("--active")}),document.addEventListener("click",function(){o()}),e.forEach(r=>{r.addEventListener("click",function(e){e.stopPropagation();var e=n.querySelector("img"),e=e?e.src:"",i=n.querySelector("span").textContent,t=(n.innerHTML,r.innerHTML),t=(n.innerHTML=t,"Time"===i.trim());t||(r.innerHTML=e?`<img src="${e}" alt="" /><span>${i}</span>`:`<span>${i}</span>`),o()})}),window.addEventListener("scroll",function(){r.closest(".header-lang")&&(r.classList.remove("dropdown--active"),t.classList.remove("--active"))})})}function marquee(){document.querySelectorAll(".marquee-container").forEach(e=>{let i=e.querySelector(".marquee-content");var t=[...e.querySelectorAll(".marquee-item")],r=parseFloat(e.getAttribute("data-speed"))||50,n=(i.innerHTML="",t.forEach(e=>i.appendChild(e.cloneNode(!0))),[...i.children]);let o=0;n.forEach(e=>o+=e.offsetWidth);var t=e.offsetWidth,s=Math.ceil(t/o)+2;for(let e=0;e<s;e++)n.forEach(e=>{i.appendChild(e.cloneNode(!0))});let a=0,l=([...i.children].forEach(e=>a+=e.offsetWidth),gsap.set(i,{x:0,willChange:"transform",force3D:!0}),gsap.timeline({repeat:-1}));l.to(i,{x:-a,duration:a/r,ease:"none",modifiers:{x:e=>parseFloat(e)%a+"px"}}),!parseFloat(e.getAttribute("hover-pause"))&&1||(e.addEventListener("mouseenter",()=>l.pause()),e.addEventListener("mouseleave",()=>l.resume()))})}function sectionOurMission(){if(!($(".our-mission").length<1)){let e=$(".our-mission .mission-item");e.on("mouseenter",function(){e.removeClass("active"),$(this).addClass("active")})}}function personalSwiper(){$(".personal-swiper").length&&new Swiper(".personal-swiper",{slidesPerView:2.5,spaceBetween:16,loop:!1,speed:600,pagination:{el:".personal-swiper .swiper-pagination",type:"progressbar"},navigation:{nextEl:".personal-swiper .swiper-button-next",prevEl:".personal-swiper .swiper-button-prev"},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:2.5}}})}function participantsSwiper(){$(".participants-swiper").length&&new Swiper(".participants-swiper",{slidesPerView:2.5,spaceBetween:16,loop:!1,speed:600,pagination:{el:".participants-swiper .swiper-pagination",type:"progressbar"},navigation:{nextEl:".participants-swiper .swiper-button-next",prevEl:".participants-swiper .swiper-button-prev"},breakpoints:{0:{slidesPerView:2},768:{slidesPerView:2},1024:{slidesPerView:3}}})}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),marquee(),sectionOurMission(),customDropdown(),personalSwiper(),participantsSwiper()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});