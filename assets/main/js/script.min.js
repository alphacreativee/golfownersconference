import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function customDropdown(){let e=document.querySelectorAll(".dropdown-custom");function i(n){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),o=e.querySelector(".dropdown-custom-btn");n&&e===n||(t.classList.remove("dropdown--active"),o.classList.remove("--active"))})}console.log(e),e.forEach(t=>{let o=t.querySelector(".dropdown-custom-btn"),n=t.querySelector(".dropdown-custom-menu");var e=t.querySelectorAll(".dropdown-custom-item");let r=t.querySelector(".value-select");o.addEventListener("click",function(e){e.stopPropagation(),i(t),n.classList.toggle("dropdown--active"),o.classList.toggle("--active")}),document.addEventListener("click",function(){i()}),e.forEach(n=>{n.addEventListener("click",function(e){e.stopPropagation();var e=r.querySelector("img"),e=e?e.src:"",t=r.querySelector("span").textContent,o=(r.innerHTML,n.innerHTML),o=(r.innerHTML=o,"Time"===t.trim());o||(n.innerHTML=e?`<img src="${e}" alt="" /><span>${t}</span>`:`<span>${t}</span>`),i()})}),window.addEventListener("scroll",function(){n.closest(".header-lang")&&(n.classList.remove("dropdown--active"),o.classList.remove("--active"))})})}function marquee(){document.querySelectorAll(".marquee-container").forEach(e=>{let t=e.querySelector(".marquee-content");var o=[...e.querySelectorAll(".marquee-item")],n=parseFloat(e.getAttribute("data-speed"))||50,r=(t.innerHTML="",o.forEach(e=>t.appendChild(e.cloneNode(!0))),[...t.children]);let i=0;r.forEach(e=>i+=e.offsetWidth);var o=e.offsetWidth,s=Math.ceil(o/i)+2;for(let e=0;e<s;e++)r.forEach(e=>{t.appendChild(e.cloneNode(!0))});let c=0,a=([...t.children].forEach(e=>c+=e.offsetWidth),gsap.set(t,{x:0,willChange:"transform",force3D:!0}),gsap.timeline({repeat:-1}));a.to(t,{x:-c,duration:c/n,ease:"none",modifiers:{x:e=>parseFloat(e)%c+"px"}}),!parseFloat(e.getAttribute("hover-pause"))&&1||(e.addEventListener("mouseenter",()=>a.pause()),e.addEventListener("mouseleave",()=>a.resume()))})}function sectionOurMission(){if(!($(".our-mission").length<1)){let e=$(".our-mission .mission-item");e.on("mouseenter",function(){e.removeClass("active"),$(this).addClass("active")})}}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),marquee(),sectionOurMission(),customDropdown()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});